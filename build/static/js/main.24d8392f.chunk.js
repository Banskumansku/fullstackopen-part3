(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),c=n(13),r=n.n(c),o=n(2),l=function(e){var t=e.person,n=e.removeContact;return u.a.createElement("div",null,u.a.createElement("li",null,t.name,": ",t.number," ",u.a.createElement("span",null,u.a.createElement("button",{onClick:n},"Remove"))," "))},i=n(3),m=n.n(i),f="/api/persons",d=function(){return m.a.get(f).then((function(e){return e.data}))},s=function(e){return m.a.post(f,e).then((function(e){return e.data}))},v=function(e,t){return m.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return m.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},E=function(e){var t=e.notificationMessage;return null===t?null:u.a.createElement("div",{className:"notification"},t)},b=function(){var e=Object(a.useState)([{name:"",number:""}]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),m=i[0],f=i[1],b=Object(a.useState)(""),h=Object(o.a)(b,2),g=h[0],j=h[1],w=Object(a.useState)([{name:"",number:""}]),O=Object(o.a)(w,2),C=O[0],y=O[1],S=Object(a.useState)(null),k=Object(o.a)(S,2),M=k[0],T=k[1];Object(a.useEffect)((function(){d().then((function(e){c(e),y(e)}))}),[]);return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("p",null,"Filter"),u.a.createElement("input",{onChange:function(e){return y(""===e.target.value?n:n.filter((function(t){return t.name.includes(e.target.value)})))}})),u.a.createElement("h2",null,"Phonebook"),u.a.createElement(E,{notificationMessage:M}),u.a.createElement("form",{onSubmit:function(e){var t={name:m,number:g};if(e.preventDefault(),n.some((function(e){return e.name===m}))){if(window.confirm("".concat(m," is already added to phonebook, do you want to update number?"))){var a=n.find((function(e){return e.name===m}));v(a.id,t).then((function(e){c(n.map((function(t){return t.id!==a.id?t:e}))),y(n.map((function(t){return t.id!==a.id?t:e}))),T("Contact '".concat(t.name,"' was updated to server")),setTimeout((function(){T(null)}),5e3)}))}}else s(t).then((function(e){c(n.concat(e)),y(n.concat(e)),f(""),j(""),T("Contact '".concat(t.name,"' was added to server")),setTimeout((function(){T(null)}),5e3)}))}},u.a.createElement("div",null,u.a.createElement("input",{value:m,onChange:function(e){f(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("input",{value:g,onChange:function(e){j(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add"))),u.a.createElement("h2",null,"Contacts"),u.a.createElement("ul",null,C.map((function(e,t){return u.a.createElement(l,{key:t,person:e,removeContact:function(){return t=e,void(window.confirm("Do you really want to delete ".concat(t.name,"?"))&&p(t.id).then((function(e){c(n.filter((function(e){return e!==t}))),y(C.filter((function(e){return e!==t}))),T("Contact '".concat(t.name,"' was deleted from the server")),setTimeout((function(){T(null)}),5e3)})));var t}})}))))};n(36);r.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(b,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.24d8392f.chunk.js.map